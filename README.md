# ðŸ’¡ AI ãƒŠãƒ¬ãƒƒã‚¸ãƒãƒ–

AI ãƒŠãƒ¬ãƒƒã‚¸ãƒãƒ–ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã©ã‚“ãªè³ªå•ã«ã‚‚å¤šè§’çš„ã«åˆ†æžã—ã€æœ€é©ãªå›žç­”ã‚’ç”Ÿæˆã™ã‚‹æ±Žç”¨ãƒžãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆQ&Aã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚Streamlit ã‚’ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ã€Google Gemini API ã‚’ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®AIã‚¨ãƒ³ã‚¸ãƒ³ã¨ã—ã¦åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚

## ðŸš€ æ¦‚è¦

ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€å¾“æ¥ã®å˜ä¸€AIã«ã‚ˆã‚‹å›žç­”ç”Ÿæˆã¨ã¯ç•°ãªã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•ã‚’è¤‡æ•°ã®ã€Œè¦³ç‚¹ã€ã«åˆ†è§£ã—ã€ãã‚Œãžã‚Œã®è¦³ç‚¹ã«ç‰¹åŒ–ã—ãŸAIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå›žç­”ã‚’ç”Ÿæˆã—ã¾ã™ã€‚æœ€çµ‚çš„ã«ã€ã“ã‚Œã‚‰ã®å€‹åˆ¥å›žç­”ã‚’ã€Œçµ±æ‹¬AIã€ãŒã¾ã¨ã‚ä¸Šã’ã€è©³ç´°ã§ç¶²ç¾…çš„ãªæœ€çµ‚å›žç­”ã‚’æä¾›ã—ã¾ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½

-   **æ±Žç”¨çš„ãªè³ªå•å…¥åŠ›**: è¦³å…‰ã€æŠ€è¡“ã€å­¦ç¿’ãªã©ã€å¹…åºƒã„ãƒ†ãƒ¼ãƒžã®è³ªå•ã«å¯¾å¿œã—ã¾ã™ã€‚
-   **è³ªå•ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**: ã‚ˆãã‚ã‚‹è³ªå•ã‚„å§‹ã‚æ–¹ã®ãƒ’ãƒ³ãƒˆã¨ã—ã¦ã€äº‹å‰ã«å®šç¾©ã•ã‚ŒãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠžã—ã¦è³ªå•å…¥åŠ›æ¬„ã«åæ˜ ã§ãã¾ã™ã€‚
-   **å‹•çš„ãªè¦³ç‚¹ç”Ÿæˆ**: å…¥åŠ›ã•ã‚ŒãŸè³ªå•ã®å†…å®¹ã«åŸºã¥ã„ã¦ã€å›žç­”ã«å¿…è¦ãªè¤‡æ•°ã®è¦³ç‚¹ï¼ˆä¾‹: å®šç¾©ã€ãƒ¡ãƒªãƒƒãƒˆã€ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã€å…·ä½“ä¾‹ãªã©ï¼‰ã‚’AIãŒè‡ªå‹•ã§ç”Ÿæˆã—ã¾ã™ã€‚
-   **ãƒžãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹å›žç­”**:
    -   **è¦³ç‚¹ç”Ÿæˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**: è³ªå•ã‹ã‚‰æœ€é©ãªåˆ†æžè¦³ç‚¹ã‚’ç‰¹å®šã—ã¾ã™ã€‚
    -   **æ±Žç”¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**: ç‰¹å®šã•ã‚ŒãŸå„è¦³ç‚¹ã«ã¤ã„ã¦ã€å€‹åˆ¥ã«Gemini AIã‚’å‘¼ã³å‡ºã—ã€è©³ç´°ãªæƒ…å ±ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
    -   **çµ±æ‹¬ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**: å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç”Ÿæˆã—ãŸæƒ…å ±ã‚’çµ±åˆã—ã€è«–ç†çš„ã§åˆ†ã‹ã‚Šã‚„ã™ã„æœ€çµ‚å›žç­”ã‚’ã¾ã¨ã‚ã¾ã™ã€‚
-   **éŽåŽ»ã®è³ªå•å±¥æ­´**: éŽåŽ»ã«è³ªå•ã—ãŸå†…å®¹ã¨æœ€çµ‚å›žç­”ã‚’JSONå½¢å¼ã§ä¿å­˜ã—ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¨è³ªå•æ–‡ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã“ã¨ã§ã€ãã®è³ªå•å†…å®¹ã‚’å†åº¦å…¥åŠ›æ¬„ã«åæ˜ ã§ãã¾ã™ã€‚
-   **å±¥æ­´ã®ãƒªã‚»ãƒƒãƒˆ**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚ã«ã€éŽåŽ»ã®è³ªå•å±¥æ­´ãŒè‡ªå‹•çš„ã«ã‚¯ãƒªã‚¢ã•ã‚Œã¾ã™ã€‚
-   **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªUI**: Streamlit ã® `st.status` ã‚„ `st.expander` ã‚’æ´»ç”¨ã—ã€å‡¦ç†ã®é€²è¡ŒçŠ¶æ³ã‚’åˆ†ã‹ã‚Šã‚„ã™ãè¡¨ç¤ºã—ã€é€”ä¸­çµŒéŽã®å›žç­”ã¯ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³å½¢å¼ã§æ ¼ç´ã™ã‚‹ã“ã¨ã§ã€ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã™ã£ãã‚Šã¨ä¿ã¡ã¾ã™ã€‚

## ðŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

-   **Python**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸»è¦è¨€èªž
-   **Streamlit**: ç›´æ„Ÿçš„ã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
-   **Google Gemini API**: AIã«ã‚ˆã‚‹ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆã®ä¸­æ ¸ã‚¨ãƒ³ã‚¸ãƒ³

## ðŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
.
â”œâ”€â”€ main.py # Streamlit UIã€å…¨ä½“ã®åˆ¶å¾¡ã€å±¥æ­´ç®¡ç†
â”œâ”€â”€ agent.py # AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆè¦³ç‚¹ç”Ÿæˆã€æ±Žç”¨å›žç­”ã€çµ±æ‹¬å›žç­”ï¼‰ã®ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ requirements.txt # å¿…è¦ãªPythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒªã‚¹ãƒˆ
â””â”€â”€ question_history.json # è³ªå•ã¨å›žç­”ã®å±¥æ­´ã‚’ä¿å­˜ã™ã‚‹JSONãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå®Ÿè¡Œæ™‚ã«è‡ªå‹•ç”Ÿæˆ/ãƒªã‚»ãƒƒãƒˆï¼‰
```

## âš™ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨å®Ÿè¡Œ

### 1. å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ä»¥ä¸‹ã®ã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€å¿…è¦ãªPythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
pip install -r requirements.txt
```

`requirements.txt` ã®å†…å®¹:

streamlit
google-generativeai

### 2. Google Gemini APIã‚­ãƒ¼ã®è¨­å®š

Google Gemini API ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã«ã¯ã€APIã‚­ãƒ¼ãŒå¿…è¦ã§ã™ã€‚ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®æ–¹æ³•ã§ç’°å¢ƒå¤‰æ•° `GEMINI_API_KEY` ã«è¨­å®šã—ã¦ãã ã•ã„ã€‚

-   **Windows (PowerShell)**:
    ```powershell
    $env:GEMINI_API_KEY="YOUR_GEMINI_API_KEY"
    streamlit run main.py
    ```
-   **macOS/Linux (Bash/Zsh)**:
    ```bash
    export GEMINI_API_KEY="YOUR_GEMINI_API_KEY"
    streamlit run main.py
    ```
    `YOUR_GEMINI_API_KEY` ã®éƒ¨åˆ†ã«ã¯ã€[Google AI Studio](https://aistudio.google.com/) ãªã©ã§å–å¾—ã—ãŸå®Ÿéš›ã®APIã‚­ãƒ¼ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚

### 3. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œ

APIã‚­ãƒ¼ã‚’è¨­å®šã—ãŸå¾Œã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ä»¥ä¸‹ã®ã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

```bash
streamlit run main.py
```

ã“ã‚Œã«ã‚ˆã‚Šã€Webãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·å‹•ã—ã¾ã™ã€‚

## ðŸ’¡ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ•ãƒ­ãƒ¼

AIãƒŠãƒ¬ãƒƒã‚¸ãƒãƒ–ã®è³ªå•ã‹ã‚‰å›žç­”ã¾ã§ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

```mermaid
graph TD
    subgraph Frontend (main.py)
        A -- [ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: è³ªå•ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢] --> B{ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ/å±¥æ­´ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯}
        B -- æ›´æ–°ã•ã‚ŒãŸè³ªå• --> C[è³ªå•å…¥åŠ›æ¬„]
        C --> D[å›žç­”ç”Ÿæˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯]
    end

    subgraph Backend (agent.py)
        D -- ãƒ¦ãƒ¼ã‚¶ãƒ¼è³ªå• --> E(è¦³ç‚¹ç”Ÿæˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: perspective_generation_agent)
        E -- ç”Ÿæˆã•ã‚ŒãŸè¦³ç‚¹ãƒªã‚¹ãƒˆ --> F(è¤‡æ•°ã®æ±Žç”¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: generic_perspective_agent)
        F -- å„è¦³ç‚¹ã¨è³ªå• --> G(æ±Žç”¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹)
        G -- å€‹åˆ¥å›žç­” --> H{å›žç­”åŽé›†}
        H -- å…¨ã¦ã®å€‹åˆ¥å›žç­” + ãƒ¦ãƒ¼ã‚¶ãƒ¼è³ªå• --> I(çµ±æ‹¬ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ: overall_agent)
        I -- æœ€çµ‚å›žç­” --> J[å›žç­”è¡¨ç¤º]
    end

    subgraph External
        E -- APIå‘¼ã³å‡ºã— --> K[Google Gemini AI]
        G -- APIå‘¼ã³å‡ºã— --> K
        I -- APIå‘¼ã³å‡ºã— --> K
    end

    J --> L[question_history.json: å±¥æ­´ä¿å­˜]
    L -- å±¥æ­´èª­ã¿è¾¼ã¿ (ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ & æ›´æ–°æ™‚) --> M[ã‚µã‚¤ãƒ‰ãƒãƒ¼å±¥æ­´ãƒœã‚¿ãƒ³]
    M --> B

    style A fill:#f9f,stroke:#333,stroke-width:2px
    style B fill:#bbf,stroke:#333,stroke-width:2px
    style C fill:#f9f,stroke:#333,stroke-width:2px
    style D fill:#f9f,stroke:#333,stroke-width:2px
    style E fill:#ccf,stroke:#333,stroke-width:2px
    style F fill:#ccf,stroke:#333,stroke-width:2px
    style G fill:#ccf,stroke:#333,stroke-width:2px
    style H fill:#ccf,stroke:#333,stroke-width:2px
    style I fill:#ccf,stroke:#333,stroke-width:2px
    style J fill:#fcf,stroke:#333,stroke-width:2px
    style K fill:#ffc,stroke:#333,stroke-width:2px
    style L fill:#cfc,stroke:#333,stroke-width:2px
    style M fill:#bbf,stroke:#333,stroke-width:2px